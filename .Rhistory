merged_data <- merge(merged_data, state_pops_readin, by="state")
source("C:/Users/AIPC/Desktop/Courses/JSC370/hw5/process_COVID_data.R")
View(merged_data)
View(merged_data)
View(tab)
source("C:/Users/AIPC/Desktop/Courses/JSC370/hw5/process_COVID_data.R")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(data.table)
library(dtplyr)
library(dplyr)
library(ggplot2)
#library(mgcv)
library(knitr)
#library(magrittr)
library(lubridate)
library(tidyverse)
library(plotly)
library(widgetframe)
source("process_COVID_data.R")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positiveIncreaseRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positiveIncreaseRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(data.table)
library(dtplyr)
library(dplyr)
library(ggplot2)
#library(mgcv)
library(knitr)
#library(magrittr)
library(lubridate)
library(tidyverse)
library(plotly)
library(widgetframe)
source("process_COVID_data.R")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positiveIncreaseRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(data.table)
library(dtplyr)
library(dplyr)
library(ggplot2)
#library(mgcv)
library(knitr)
#library(magrittr)
library(lubridate)
library(tidyverse)
library(plotly)
library(widgetframe)
source("process_COVID_data.R")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive population rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
View(tab)
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positiveIncreaseRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive population rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive population rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positiveIncreaseRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(data.table)
library(dtplyr)
library(dplyr)
library(ggplot2)
#library(mgcv)
library(knitr)
#library(magrittr)
library(lubridate)
library(tidyverse)
library(plotly)
library(widgetframe)
source("process_COVID_data.R")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positiveIncreaseRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive increase rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~population, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive population rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and positive population rate",
yaxis = list(title = "positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
tab %>%
#filter(name != "California") %>%
plot_ly(x = ~admin_per_100k, y=~mean_positivePopRate,
type = 'scatter', mode = 'markers', color = ~name,
size=~pop_density, sizes = c(5, 70),
marker = list(sizemode="diameter", opacity=0.5))%>%
layout(title = "Relationship between vaccine and mean positive population rate",
yaxis = list(title = "mean positivePopRate"),
xaxis = list(title = "the number of doses administered per 100k"),
hovermode = "compare")
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(data.table)
library(dtplyr)
library(dplyr)
library(ggplot2)
#library(mgcv)
library(knitr)
#library(magrittr)
library(lubridate)
library(tidyverse)
library(plotly)
library(widgetframe)
source("process_COVID_data.R")
cv_states_mat <- merged_data %>%
select(name, End_of_Week, positiveIncreaseRate)
cv_states_mat2 <- as.data.frame(pivot_wider(cv_states_mat, names_from = name, values_from = positiveIncreaseRate))
cv_states_mat2 <- cv_states_mat2 %>%
column_to_rownames("End_of_Week") %>%
as.matrix()
plot_ly(x=colnames(cv_states_mat2), y=rownames(cv_states_mat2), z=~cv_states_mat2, type="heatmap")
cv_states_mat <- merged_data %>%
select(name, End_of_Week, positiveIncreaseRate)
cv_states_mat2 <- as.data.frame(pivot_wider(cv_states_mat, names_from = name, values_from = positiveIncreaseRate))
cv_states_mat2 <- cv_states_mat2 %>%
column_to_rownames("End_of_Week") %>%
as.matrix()
plot_ly(x=colnames(cv_states_mat2), y=rownames(cv_states_mat2), z=~cv_states_mat2, type="heatmap")%>%
layout(title = "The heatmap of the trend of PIR",
hovermode = "compare",
legend = "PIR")
cv_states_mat <- merged_data %>%
select(name, End_of_Week, positiveIncreaseRate)
cv_states_mat2 <- as.data.frame(pivot_wider(cv_states_mat, names_from = name, values_from = positiveIncreaseRate))
cv_states_mat2 <- cv_states_mat2 %>%
column_to_rownames("End_of_Week") %>%
as.matrix()
plot_ly(x=colnames(cv_states_mat2), y=rownames(cv_states_mat2), z=~cv_states_mat2, type="heatmap")%>%
layout(title = "The heatmap of the trend of PIR",
hovermode = "compare",
legend=list(title=list(text='<b> Trend </b>')))
cv_states_mat <- merged_data %>%
select(name, End_of_Week, positiveIncreaseRate)
cv_states_mat2 <- as.data.frame(pivot_wider(cv_states_mat, names_from = name, values_from = positiveIncreaseRate))
cv_states_mat2 <- cv_states_mat2 %>%
column_to_rownames("End_of_Week") %>%
as.matrix()
plot_ly(x=colnames(cv_states_mat2), y=rownames(cv_states_mat2), z=~cv_states_mat2, type="heatmap")%>%
layout(title = "The heatmap of the trend of PIR",
hovermode = "compare",
legend=list(title="etst"))
cv_states_mat <- merged_data %>%
select(name, End_of_Week, positiveIncreaseRate)
PIR <- as.data.frame(pivot_wider(cv_states_mat, names_from = name, values_from = positiveIncreaseRate))
PIR <- PIR %>%
column_to_rownames("End_of_Week") %>%
as.matrix()
plot_ly(x=colnames(PIR), y=rownames(PIR), z=~PIR, type="heatmap")%>%
layout(title = "The heatmap of the trend of PIR",
hovermode = "compare")
